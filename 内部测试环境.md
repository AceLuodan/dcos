## 内部测试环境

### 硬件资源准备

| 节点 | 配置 | 操作系统 | 数量 | 备注 |
| --- | --- | --- | --- | --- |
| Bootstrap node | 2核，16G内存，60G硬盘 | CentOS 7.2 | 1 | 该节点不在集群内 |
| Master nodes | 2核，16G内存，128G硬盘 | CentOS 7.2 | 1 |  |
| Agent nodes | 2核，16G内存，128G硬盘 | CentOS 7.2 | 3 |  |

### 系统环境准备

更新系统到最新版本

> `$ sudo yum update -y`

禁用系统防火墙

> `$ sudo systemctl stop firewalld && sudo systemctl disable firewalld`

DC\/OS安装在\/opt\/mesosphere下，确保该目录在一个非 LVM逻辑磁盘或共享存储磁盘下。（注：实际测试时，在LVM盘下仍安装成功）。

### 端口协议准备

* 所有节点上的SSH服务可用

* ICMP服务在所有节点可用

* 通过Bootstrap节点可以访问到所有其他节点

* 集群内所有节点间的IP-to-IP访问不受约束

* 在Masters节点上，UDP在**53**上开放端口。Mesos的Agent节点服务使用此端口查找Master节点中的Leader节点。


### 软件环境准备

#### Docker

范围：所有节点

版本：1.7.x ~ 1.11.x ** 注意：**当前DCOS（1.8.4\)暂不支持1.12.x

推荐：

以稳定性考虑，推荐1.9.x~1.11.x

不要使用Docker的`loop-lvm`模式下的`devicemapper`存储引擎，原因参考：[Docker and the Device Mapper storage driver](https://docs.docker.com/engine/userguide/storagedriver/device-mapper-driver/)

推荐`OverlayFs`或者`direct-lvm`模式下的`devicemapper`存储引擎

通过Systemd管理Docker服务，确保Docker服务崩溃时自动重启

以root权限运行Docker的命令，或者运行命令的用户在docker用户组内

在Centos7.2上安装Docker



